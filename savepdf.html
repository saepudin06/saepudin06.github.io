<!DOCTYPE html>
<html>
<head>
	<!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
 
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <title>SALMAN SHOP</title>
    <style type="text/css">
    	.center {
    		text-align: center !important;
    	}
    </style>
</head>
<body>

	<div class="container" style="margin-top: 50px; font-size: 12px !important;">

		<h4 class="text-center">List Harga Pulsa</h4><br>

		<div class="row">
			<div class="col-md-4">
				<table class="table table-bordered table-sm center">
					<thead>
						<tr class="thead-dark">
							<th colspan="3">Pulsa Telkomsel</th>
						</tr>
						<tr>
						  <th scope="col" width="60%" class="align-middle">Nama</th>
						  <th scope="col" width="20%" class="align-middle">Harga</th>
						</tr>
					</thead>
					<tbody id="tbodyTelkomsel">
						
					</tbody>
				</table>
			</div>
			<div class="col-md-4">
				<table class="table table-bordered table-sm center">
					<thead>
						<tr class="thead-dark">
							<th colspan="3">Pulsa Indosat</th>
						</tr>
						<tr>
						  <th scope="col" width="60%" class="align-middle">Nama</th>
						  <th scope="col" width="20%" class="align-middle">Harga</th>
						</tr>
					</thead>
					<tbody id="tbodyIndosat">
						
					</tbody>
				</table>
			</div>
			<div class="col-md-4">
				<table class="table table-bordered table-sm center">
					<thead>
						<tr class="thead-dark">
							<th colspan="3">Pulsa XL</th>
						</tr>
						<tr>
						  <th scope="col" width="60%" class="align-middle">Nama</th>
						  <th scope="col" width="20%" class="align-middle">Harga</th>
						</tr>
					</thead>
					<tbody id="tbodyXL">
						
					</tbody>
				</table>
			</div>
			<div class="col-md-4">
				<table class="table table-bordered table-sm center">
					<thead>
						<tr class="thead-dark">
							<th colspan="3">Pulsa Three</th>
						</tr>
						<tr>
						  <th scope="col" width="60%" class="align-middle">Nama</th>
						  <th scope="col" width="20%" class="align-middle">Harga</th>
						</tr>
					</thead>
					<tbody id="tbodyThree">
						
					</tbody>
				</table>
			</div>
			<div class="col-md-4">
				<table class="table table-bordered table-sm center">
					<thead>
						<tr class="thead-dark">
							<th colspan="3">Pulsa Axis</th>
						</tr>
						<tr>
						  <th scope="col" width="60%" class="align-middle">Nama</th>
						  <th scope="col" width="20%" class="align-middle">Harga</th>
						</tr>
					</thead>
					<tbody id="tbodyAxis">
						
					</tbody>
				</table>
			</div>
			<div class="col-md-4">
				<table class="table table-bordered table-sm center">
					<thead>
						<tr class="thead-dark">
							<th colspan="3">Pulsa Smart</th>
						</tr>
						<tr>
						  <th scope="col" width="60%" class="align-middle">Nama</th>
						  <th scope="col" width="20%" class="align-middle">Harga</th>
						</tr>
					</thead>
					<tbody id="tbodySmart">
						
					</tbody>
				</table>
			</div>
		</div>
	</div>

	<script src="https://code.jquery.com/jquery-3.4.0.min.js"></script>

	<!-- The core Firebase JS SDK is always required and must be listed first -->
	<script src="https://www.gstatic.com/firebasejs/8.2.4/firebase-app.js"></script>
	<script src="https://www.gstatic.com/firebasejs/8.2.4/firebase-database.js"></script>

	<script type="text/javascript">
		// Your web app's Firebase configuration
		var firebaseConfig = {
		    apiKey: "AIzaSyCPSiurIE5DmdIuV2M2VX0IiLidUv5JGi8",
		    authDomain: "salman-pulsa.firebaseapp.com",
		    projectId: "salman-pulsa",
		    storageBucket: "salman-pulsa.appspot.com",
		    messagingSenderId: "931681268010",
		    appId: "1:931681268010:web:e2798e9ba135ed56e42e53"
		};
	    // Initialize Firebase
	  	firebase.initializeApp(firebaseConfig);

	    var database = firebase.database();

	    var lastIndex = 0;

	    // Get Data
	    firebase.database().ref('listharga').on('value', function (snapshot) {
	        var value = snapshot.val();
	        var htmlTelkomsel = [];
	        var htmlIndosat = [];
	        var htmlXL = [];
	        var htmlThree = [];
	        var htmlAxis = [];
	        var htmlSmart = [];

	        $.each(value, function (index, value) {
	            if (value) {
	                if(value.operator == 'telkomsel' && value.jenis == 'pulsa'){
		                htmlTelkomsel.push('<tr>\
		                <td>' + value.keterangan + '</td>\
		                <td>' + value.harga.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, "$1.") + '</td>\
		            	</tr>');
	            	}

	            	if(value.operator == 'indosat' && value.jenis == 'pulsa'){
		                htmlIndosat.push('<tr>\
		                <td>' + value.keterangan + '</td>\
		                <td>' + value.harga.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, "$1.") + '</td>\
		            	</tr>');
	            	}

	            	if(value.operator == 'xl' && value.jenis == 'pulsa'){
		                htmlXL.push('<tr>\
		                <td>' + value.keterangan + '</td>\
		                <td>' + value.harga.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, "$1.") + '</td>\
		            	</tr>');
	            	}

	            	if(value.operator == 'three' && value.jenis == 'pulsa'){
		                htmlThree.push('<tr>\
		                <td>' + value.keterangan + '</td>\
		                <td>' + value.harga.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, "$1.") + '</td>\
		            	</tr>');
	            	}

	            	if(value.operator == 'axis' && value.jenis == 'pulsa'){
		                htmlAxis.push('<tr>\
		                <td>' + value.keterangan + '</td>\
		                <td>' + value.harga.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, "$1.") + '</td>\
		            	</tr>');
	            	}

	            	if(value.operator == 'smartfren' && value.jenis == 'pulsa'){
		                htmlSmart.push('<tr>\
		                <td>' + value.keterangan + '</td>\
		                <td>' + value.harga.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, "$1.") + '</td>\
		            	</tr>');
	            	}
	            }
	            lastIndex = index;
	        });
	        $('#tbodyTelkomsel').html(htmlTelkomsel);
	        $('#tbodyIndosat').html(htmlIndosat);
	        $('#tbodyXL').html(htmlXL);
	        $('#tbodyThree').html(htmlThree);
	        $('#tbodyAxis').html(htmlAxis);
	        $('#tbodySmart').html(htmlSmart);
	    });

	</script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
</body>

</body>
</html>